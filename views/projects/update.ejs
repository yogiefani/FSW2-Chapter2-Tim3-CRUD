<main>
    <div class="container">
        <div class="py-5 text-center">
            <h2>Update Project</h2>
            <p class="lead">Fill in the form below to update the existing entry in the database.</p>
        </div>

        <div class="row g-5 justify-content-center">
            <div class="col-md-8 form-card">
                <h4 class="mb-3">Update Entry Form</h4>
                <form id="projectForm" action="/projects/<%= projectData.id %>?_method=PUT" method="POST">
                    <div class="row g-3">

                        <input type="hidden" id="id" name="id" value="<%= projectData.id %>">

                        <div class="col-sm-6">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="name" name="name" value="<%= projectData.name %>" required>
                            <div class="invalid-feedback">
                                Name is required.
                            </div>
                        </div>

                        <div class="col-sm-12">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" name="description" required><%= projectData.description %></textarea>
                            <div class="invalid-feedback">
                                Description is required.
                            </div>
                        </div>
                    </div>

                    <hr class="my-4">
                    <button id="submitBtn" class="w-100 btn btn-primary btn-lg btn-custom" type="submit">Update</button>
                </form>
            </div>
        </div>
    </div>
</main>

<script>
    document.getElementById('submitBtn').addEventListener('click', function (e) {
      e.preventDefault(); // Mencegah form dikirim secara langsung
      Swal.fire({
        title: 'Are you sure?',
        text: "Do you want to update this project?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, update it!'
      }).then((result) => {
        if (result.isConfirmed) {
          document.getElementById('projectForm').submit(); // Kirim form jika dikonfirmasi
        }
      });
    });
    </script>